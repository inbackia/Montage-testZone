<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>Montage β€“ μ΄λ¦„ μ…λ ¥</title>

  <!-- Pretendard -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pretendard/dist/web/static/pretendard.css" />

  <!-- Montserrat -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap"
    rel="stylesheet"
  />

  <!-- collect-name μ „μ© CSS -->
  <link rel="stylesheet" href="styles/collect-name.css" />
</head>
<body>
  <div class="cn-page">
    <div class="cn-wrap">
      <!-- 1. νƒ€μ΄ν‹€ -->
      <h1 class="cn-title">μ΄λ¦„μ΄ λ¬΄μ—‡μΈκ°€μ”?</h1>

      <!-- 2. μΈν’‹ μμ—­ -->
      <div class="cn-input-block">
        <input
          id="nameInput"
          class="cn-input"
          type="text"
          maxlength="12"
          placeholder="μ΄λ¦„ λ° λ‹‰λ„¤μ„μ„ μ‘μ„±ν•΄μ£Όμ„Έμ”"
          autocomplete="off"
        />
        <div class="cn-helper-row">
          <span class="cn-helper-text">μµλ€ 12μκΉμ§€ μ…λ ¥ κ°€λ¥ν•©λ‹λ‹¤.</span>
          <span class="cn-counter">
            <span id="nameCount">0</span>/12
          </span>
        </div>
      </div>

      <!-- 3. λ²„νΌ -->
      <button id="nextBtn" class="cn-button" disabled>
        λ‹¤μμΌλ΅
      </button>
    </div>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const wrap = document.querySelector(".cn-wrap");
      const input = document.getElementById("nameInput");
      const nextBtn = document.getElementById("nextBtn");
      const countEl = document.getElementById("nameCount");

      // π”Ή 1) νμ΄μ§€ λ“¤μ–΄μ¬ λ• μμ„λ€λ΅ μμ—°μ¤λ½κ² λ“±μ¥
      // μ•½κ°„μ μ§€μ—° ν›„ .cn-show ν΄λμ¤ μ¶”κ°€ β†’ CSS transition λ°λ™
      setTimeout(() => {
        wrap.classList.add("cn-show");
      }, 80);

      // π”Ή 2) μΈν’‹ κΈ€μμ μ ν• & λ²„νΌ ν™μ„±ν™”
      const MAX_LEN = 12;

      function updateState() {
        let value = input.value || "";

        // 12μ μ΄κ³Ό μ…λ ¥λλ©΄ μλΌμ£ΌκΈ° (λ¶™μ—¬λ„£κΈ° λ€λΉ„)
        if (value.length > MAX_LEN) {
          value = value.slice(0, MAX_LEN);
          input.value = value;
        }

        countEl.textContent = value.length;

        // κΈ€μκ°€ 1μ μ΄μƒμΌ λ•λ§ "λ‹¤μμΌλ΅" ν™μ„±ν™”
        if (value.trim().length > 0) {
          nextBtn.disabled = false;
        } else {
          nextBtn.disabled = true;
        }
      }

      input.addEventListener("input", updateState);
      updateState(); // μ΄κΈ° μƒνƒ λ°μ

      nextBtn.addEventListener("click", () => {
  const name = input.value.trim();

  if (name.length > 0) {
    localStorage.setItem("userName", name);  // π”¥ μ΄λ¦„ μ €μ¥
  }

  window.location.href = "photo.html";        // λ‹¤μ νμ΄μ§€ μ΄λ™
});

    });
  </script>
</body>
</html>
